{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e0fd6c632809a88b90fe","webpack:///./index.js"],"names":["AnyControl","SpeechRecognition","window","webkitSpeechRecognition","recognition","finalTranscript","commands","DEBUG","recognizing","onresult","event","results","console","info","stop","i","resultIndex","length","isFinal","transcript","toLowerCase","trim","Object","keys","forEach","command","indexOf","undefined","param","substring","onerror","onstart","onend","continuous","start","prototype","isSupported","addCommand","callback","removeCommand","getCommand","timeout","isRecognizing","setTimeout","debug","mode","main","module","exports"],"mappings":"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","file":"index.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"anycontrol\"] = factory();\n\telse\n\t\troot[\"anycontrol\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e0fd6c632809a88b90fe","/* eslint-disable no-undef */\n/* eslint-disable no-console */\n/* eslint-disable no-lonely-if */\n\nconst AnyControl = function AnyControl() {\n  const SpeechRecognition = window.webkitSpeechRecognition || window.SpeechRecognition;\n  this.recognition = new SpeechRecognition();\n  this.finalTranscript = '';\n  this.commands = {};\n  this.DEBUG = false;\n  this.recognizing = false;\n  this.recognition.onresult = (event) => {\n    if (typeof (event.results) === 'undefined') {\n      if (this.DEBUG) {\n        console.info('undefined result');\n      }\n\n      this.recognition.stop();\n      return;\n    }\n\n    for (let i = event.resultIndex; i < event.results.length; i += 1) {\n      if (event.results[i].isFinal) {\n        this.finalTranscript += event.results[i][0].transcript;\n      }\n    }\n\n    if (this.finalTranscript !== '') {\n      if (this.DEBUG) {\n        console.info('received command:', this.finalTranscript);\n      }\n\n      this.finalTranscript = this.finalTranscript.toLowerCase().trim();\n      const commands = this.commands;\n      Object.keys(commands).forEach((command) => {\n        if (this.finalTranscript.indexOf(command) > -1) {\n          if (this.finalTranscript[command.length] === undefined) {\n            if (this.DEBUG) {\n              console.info('calling command', command);\n            }\n            this.commands[command]();\n          } else if (this.finalTranscript[command.length] === ' ') {\n            const param = this.finalTranscript\n              .substring(command.length, this.finalTranscript.length).trim();\n            this.commands[command](param);\n\n            if (this.DEBUG) {\n              console.info('calling command', command, 'with param:', param);\n            }\n          }\n        }\n      });\n\n      this.finalTranscript = '';\n    } else {\n      if (this.DEBUG) {\n        console.info('received empty command');\n      }\n    }\n  };\n\n  this.recognition.onerror = (event) => {\n    if (this.DEBUG) {\n      console.info('error occured', event);\n    }\n  };\n\n  this.recognition.onstart = (event) => {\n    if (this.DEBUG) {\n      console.info('start', event);\n    }\n\n    this.recognizing = true;\n  };\n\n  this.recognition.onend = (event) => {\n    if (this.DEBUG) {\n      console.info('end', event);\n    }\n\n    this.recognizing = false;\n\n    if (this.recognition.continuous) {\n      if (this.DEBUG) {\n        console.info('restarting', this.recognition.continuous);\n      }\n\n      this.recognition.start();\n    }\n  };\n\n  return this;\n};\n\nAnyControl.prototype.isSupported = function isSupported() {\n  return !!this.recognition;\n};\n\nAnyControl.prototype.addCommand = function addCommand(command, callback) {\n  if (this.DEBUG) {\n    console.info('added command:', command);\n  }\n\n  this.commands[command.toLowerCase()] = callback;\n};\n\nAnyControl.prototype.removeCommand = function removeCommand(command) {\n  if (this.DEBUG) {\n    console.info('removed command:', command);\n  }\n\n  if (this.commands[command]) {\n    delete this.commands[command];\n    return true;\n  }\n\n  return false;\n};\n\nAnyControl.prototype.start = function start() {\n  if (this.DEBUG) {\n    console.info('started listening');\n  }\n\n  this.recognition.continuous = true;\n  this.recognition.start();\n};\n\nAnyControl.prototype.stop = function stop() {\n  if (this.DEBUG) {\n    console.info('stopped listening');\n  }\n\n  this.recognition.continuous = false;\n  this.recognition.stop();\n};\n\nAnyControl.prototype.getCommand = function getCommand() {\n  let timeout = 1;\n\n  if (this.isRecognizing()) {\n    this.stop();\n\n    timeout = 1000;\n  }\n\n  setTimeout(() => {\n    if (this.DEBUG) {\n      console.info('listening for single command');\n    }\n\n    this.recognition.continuous = false;\n    this.recognition.start();\n  }, timeout);\n};\n\nAnyControl.prototype.debug = function debug(mode) {\n  this.DEBUG = !!mode;\n};\n\nAnyControl.prototype.isRecognizing = function isRecognizing() {\n  return this.recognizing;\n};\n\nconst main = AnyControl;\nexport default main;\nmodule.exports = main; // for CommonJS compatibility\n\n\n\n// WEBPACK FOOTER //\n// ./index.js"],"sourceRoot":""}